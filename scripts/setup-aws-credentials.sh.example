#!/bin/bash

# AWS Credentials Setup Script - EXAMPLE
# This is a template file. Copy this to setup-aws-credentials.sh and fill in your credentials
# Usage: 
#   1. cp scripts/setup-aws-credentials.sh.example scripts/setup-aws-credentials.sh
#   2. Edit scripts/setup-aws-credentials.sh with your credentials
#   3. source ./scripts/setup-aws-credentials.sh

# IMPORTANT: The actual credentials file (setup-aws-credentials.sh) is git-ignored
# This example file can be committed to show the structure

# Colors for output
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${YELLOW}Setting up AWS credentials...${NC}"

# AWS Credentials - REPLACE THESE WITH YOUR ACTUAL CREDENTIALS
export AWS_ACCESS_KEY_ID="YOUR_ACCESS_KEY_HERE"
export AWS_SECRET_ACCESS_KEY="YOUR_SECRET_ACCESS_KEY_HERE"
export AWS_DEFAULT_REGION="eu-west-2"
export AWS_REGION="eu-west-2"

# AWS User Information (for reference)
export AWS_USER_EMAIL="your.email@example.com"

# Verify credentials are set
if [ -n "$AWS_ACCESS_KEY_ID" ] && [ -n "$AWS_SECRET_ACCESS_KEY" ]; then
    echo -e "${GREEN}✓ AWS credentials configured${NC}"
    echo -e "${GREEN}✓ Region: ${AWS_DEFAULT_REGION}${NC}"
    echo -e "${GREEN}✓ User: ${AWS_USER_EMAIL}${NC}"
    
    # Test AWS credentials
    echo ""
    echo -e "${YELLOW}Testing AWS credentials...${NC}"
    if aws sts get-caller-identity &> /dev/null; then
        echo -e "${GREEN}✓ AWS credentials are valid!${NC}"
        echo ""
        aws sts get-caller-identity
    else
        echo -e "${YELLOW}⚠ Could not verify credentials (AWS CLI might not be installed or credentials are invalid)${NC}"
    fi
else
    echo -e "${YELLOW}⚠ Failed to set AWS credentials${NC}"
    return 1
fi

echo ""
echo -e "${GREEN}AWS credentials loaded successfully!${NC}"
echo -e "${YELLOW}You can now run:${NC}"
echo "  • make bootstrap-dev"
echo "  • make bootstrap-test"
echo "  • make bootstrap-prod"
echo "  • ./scripts/bootstrap-backend.sh dev"
echo ""
